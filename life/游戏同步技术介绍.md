在客户端——服务端架构中，无论是用什么样的同步方法，都始终遵循如下的一个过程：某个客户端向服务端发送一条消息，服务器收到后稍作处理，把它广播给所需的客户端。所传递的消息可以是角色的位置、血量这样的状态值，也可以是“向前走”这样的指令值。前者称之为状态同步，后者称之为指令同步。

状态同步传输的数据量大、传输频率低、主要逻辑在服务器（服务器运算压力大）、网络要求一般。帧同步传输数据量小，传输频率高，主要逻辑在客户端（服务器压力小）、网络要求高。

##直接状态同步的瞬移问题
假如客户端每0.5秒发送一个位置信息，其他客户端若直接对应角色的位置信息，就会产生瞬移的效果。为了解决这个问题，引出了跟随算法和预测算法。

* 跟随算法。客户端不直接将角色拉到目的地，而是让角色以一定的速度移动。这样做的问题是客户端之间有一定的误差。
* 预测算法。为了减少误差，可以让角色提前走到某个预测的位置上去。

##指令同步的误差积累问题
指令同步的基本思想是，相同的时间+相同的输入=相同的输出。因此，如果要有随机元素，需要使用相同的随机种子，该随机种子一般是从服务器获取。

由于网络坏境和客户端计算能力的不同，在收到指令之后，虽然执行的是相同的逻辑，但执行的速度可能不一致，导致客户端看到的内容有所不同。并且，这种误差是可以积累的。

###同步帧
为了保证所有客户端的表现一致，在发送指令的时候附带时间信息，客户端根据指令的时间信息去修正更新的计算方式，使所有的客户端表现一致。这里，定义了“帧”的概念，来表示时间。同步帧，我的理解是，在某个时间内，必须执行完所有所有的指令。

###区分各个客户端
在一个多人的游戏内，一个指令可能会触发多次，这时候服务器需要判断一下，只转发其中一个，不然会出现多次触发的问题。
