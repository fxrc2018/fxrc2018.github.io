## 标准光照模型

标准光照模型只关心直接光照，也就是那些直接从光源发射出来照射到物体表面后，经过物体表面的一次反射直接进入摄像机的光线。

它的基本方法是，把进入到摄像机内的光线分为4个部分，每个部分使用一种方法来计算它的贡献度。这 4 个部分是：

- 自发光部分。这部分用于描述当给定一个方向时，一个表面本身会向该方向发射多少辐射量。需要注意的是，如果没有使用全局光照，这些自发光的表面并不会真的照亮周围的物体，而是它本身看起来更亮了而已。
- 环境光部分。这部分用于描述其他所有的间接光照。
- 漫反射部分。这部分用于描述当光线照射到模型表面时，该表面会向每个方向散射多少辐射量。
- 高光反射部分。这个部分用于描述当光线从光源照射到模型表面时，该表面会在完全镜面反射方向散射多少辐射量。

各个部分的计算公式如下：

自发光直接使用物体材质的发光颜色，即：

$$
c_{emissive}=m_{emissive}
$$

而环境光照通常是一个全局变量，即场景中的所有物体都使用这个环境光。

$$
c_{ambient} = g_{ambient}
$$

漫发射光照符合兰伯特定律 (Lambert's law) ：反射光线的强度与表面法线和光源方向之间夹角的余弦值成正比，即： 

$$
c_{diffuse}=(c_{light}\cdot m_{diffuse})\max(0,N\cdot L)
$$

标准光照模型中的高光反射是一种经验模型，也就是说，它并不完全符合真实世界中的高光反射现象。

$$
c_{specular}=(c_{light}\cdot m_{specular})\max(0,V\cdot R)^{m_{gloss}}
$$

$$m_{gloss}$$是材质的光泽度，也称为反光度。它用于控制高光区域的 “亮点” 有多宽，$$m_{gloss}$$越大，亮点就越小。

Blinn 提出了一个简单的修改方法来得到类似的效果。其主要改进是不再计算反射光线和视角方向的夹角，而是计算法线和一个新的向量 H 的夹角。

$$
c_{specular}=(c_{light}\cdot m_{specular})\max(0,N\cdot H)^{m_{gloss}}
$$

其中，H等于：

$$
H=\frac{V+L}{|V+L|}
$$

### 逐像素光照和逐顶点光照

在逐像素光照中，我们会以每个像素为基础，得到它的法线（可以是对顶点法线插值得到的，也可以是从法线纹理中采样得到的），然后进行光照模型的计算。这种在面片之间对顶点法线进行插值的技术被称为 Phong着色（Phong Shading），也被称为 Phong 插值或法线插值着色技术。这和 Phong 光照模型是两个概念。

在逐顶点光照中，我们在每个顶点上计算光照，然后会在渲染图元内部进行线性插值，最后输出成像素颜色。逐顶点光照，也被称为高洛德着色（Gouraud Shading）。 