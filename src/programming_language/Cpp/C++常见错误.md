## C++常见错误

### variable `xxx' has initializer but incomplete type

出现这个错误字面意思是变量xxx定义了，但是不完整，解决方法是，没有找到xxx变量的头文件，包含头文件即可解决。

出现这个错误的原因是因为C++有前向声明这个语法，前向声明而的类是不完整的，这样的类，只能用于定义指针、引用、以及用于函数形参的指针和引用。

前向声明的作用是：
1. 不必在include头文件了，相对会省点编译时间。
2. 方便的解决两种类类型互相使用的问题。针对接口编程常常会遇到这种互相使用类型的场景。

### 内存越界但不报段错误

由于内存的分配策略，通常会分配比实际内存大的内存；又或者，连续分配的多段内存。写的时候可能不报错误，但释放的时候会报错，原因是破坏了内存结构。这个错误比较难查，因为段错误发生的地方和报错的地方不同，需要仔细检查代码才行。

```c++
#include <iostream>
using namespace std;

int main(int argc, char const *argv[])
{
    int *a = new int[1];
    a[2] = 1; // 不会报错
    a[-1] = 1; // 不会报错
    a[10] = 1; // 不会报错
    system("pause");
    delete[]  a; // 报错
    return 0;
}
```


