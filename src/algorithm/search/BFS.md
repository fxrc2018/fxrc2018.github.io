## BFS

### 广度优先搜索
广搜的目标是，一旦找到一条查从起点到目标节点的路径，这条路径，这条路径就一定是最优的。使用广搜时需要把节点分层。起点是0层，从起点最少要走n步，且走n步就一定能到达的节点就是第n层。广搜就是按层次从低到高依次扩展结点，拓展出来的结点要用队列存。

1. 把初始结点（起点）S0放入Open表中，Open表是一个队列。
2. 如果Open表为空，则问题无解，失败退出。
3. 把Open表头部结点v取出放入Closed表。
4. 考察结点v是否为目标结点（终点）。若是，则得到问题的解，转到步骤7。
5. 若结点n不可扩展，则转到步骤2。
6. 扩展结点v，将其不在Closed表和Open表中的相邻结点放入Open表的尾部，并在刚扩展出来的结点中存储直线该结点的父节点的指针以及该结点的层次，然后转到步骤2。
7. 广搜成功结束。根据终点v中存放的层次信息，就可知道从S0走到v的最佳路径有几步。

根据父节点的指针信息一步步倒着查，就能找到S0到v的路径。

在寻路算法中，通常使用的估计函数有：

* 曼哈顿距离$D(p,q)=\sum_{i=1}^n(px_i + qx_i)$，在二维平面就是$D=|x_1 - x_2| + |y_1 - y_2|$。上面的例子就是用的曼哈顿距离。
* 欧氏几何平面距离$D(p,q)=\sqrt{\sum_{i=1}^n(px_i-qx_i)^2}$，在二维平面是$D=\sqrt{(x_1 - x _2)^2 + (y_1-y_2)^2}$。
* 切比雪夫距离$D=max(|p_1-q_i|)$，在二维平面就是$D=max(|x_1-x_2|,|y_1-y_2|)$。
